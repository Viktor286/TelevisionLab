!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";var n=a(1),o=a(2),i=a(3),r=a(4);n(),o(),i(),r()},function(e,t,a){"use strict";e.exports=function(){$(document).ready(function(){tvLab.loadVideoOnPage=function(e){$("div#preview-window").css("background-image","url(_global/img/loader_0.gif)"),$.ajax("desktop/ajax/video.php",{success:function(t){$("#preview-window").html('<div class="box"><iframe src="//player.vimeo.com/video/'+e+'?title=0&byline=0&portrait=0&autoplay=1"  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'),$("#video-info").hide().html(t).fadeIn(100),setTimeout(function(){$("div#preview-window").css("background-image","none")},1e3)},data:{VideoId:e},cache:!1}).done(function(){var e=tvLab.nowTags.split(" ");$.each(e,function(e,t){$("a.tag[data-tag="+t+"]").addClass("here")});var t=document.querySelector("iframe"),a=new Vimeo.Player(t),n=$("div#MPC div#PlayPause");$(document).on("click","div#MPC div#PlayPause",function(e){e.preventDefault(),a.getPaused().then(function(e){!0===e?a.play():a.pause()}).catch(function(e){console.log("an error occurred during on('click') mainPlayer.getPaused()")})});var o=function(e){!0===e?(n.removeClass("pause"),n.addClass("play")):(n.removeClass("play"),n.addClass("pause"))};a.on("play",function(e){a.getPaused().then(function(e){o(e)}).catch(function(e){console.log("an error occurred during mainPlayer.getPaused()")})}),a.on("pause",function(e){a.getPaused().then(function(e){o(e)}).catch(function(e){console.log("an error occurred during mainPlayer.getPaused()")})}),1===tvLab.autoPlayState?(tvLab.setAutoPlayUI("Next"),a.setLoop(!1)):(tvLab.setAutoPlayUI("Cycle"),a.setLoop(!0)),$(document).on("click","div#MPC div.AutoPlay",function(e){e.preventDefault(),1===tvLab.autoPlayState?a.setLoop(!0).then(function(e){tvLab.setAutoPlayUI("Cycle"),tvLab.autoPlayState=0,document.cookie="tvLab.autoPlayState="+tvLab.autoPlayState}).catch(function(e){console.log("an error occurred during mainPlayer.setLoop(true)")}):a.setLoop(!1).then(function(e){tvLab.setAutoPlayUI("Next"),tvLab.autoPlayState=1,document.cookie="tvLab.autoPlayState="+tvLab.autoPlayState}).catch(function(e){console.log("an error occurred during mainPlayer.setLoop(true)")})}),a.on("ended",function(e){tvLab.videoGoAndPlay("Next")}),a.getCuePoints().then(function(e){if(e.length>0)for(var t=0;t<e.length;t++)a.removeCuePoint(e[t].id).then(function(e){}).catch(function(e){switch(e.name){case"UnsupportedError":console.log("cue points are not supported with the current player or browser");break;case"InvalidCuePoint":console.log("a cue point with the id passed wasn’t found");break;default:console.log("some other error occurred")}})}).catch(function(e){switch(e.name){case"UnsupportedError":console.log("cue points are not supported with the current player or browser");break;default:console.log("some other error occurred during mainPlayer.getCuePoints()")}}),a.getDuration().then(function(e){var t=Math.floor(parseInt(e)/5),n=[1,2*t,3*t,4*t,e-1],o=[{time:n[0],data:{ShotTag:"KeyShot-1",ShotName:"First key shot looks nice."},id:"videoCuePoint-0"},{time:n[1],data:{ShotTag:"ShotTag",ShotName:"This one not bad too!"},id:"videoCuePoint-1"},{time:n[2],data:{ShotTag:"CustomTag",ShotName:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."},id:"videoCuePoint-2"},{time:n[3],data:{ShotTag:"CoolTag",ShotName:"Composition and color are worth to checkout."},id:"videoCuePoint-3"},{time:n[4],data:{ShotTag:"LastKeyShot",ShotName:"Well, this is just last key shot in this cue."},id:"videoCuePoint-0"}];for(c=0;c<o.length;c++){var i=Math.floor(o[c].time/60%60).toString(),r=Math.floor(o[c].time%60).toString();i.length<2&&(i="0"+i),r.length<2&&(r="0"+r),o[c].timecode=i+":"+r}for(var l=[],c=0;c<o.length;c++)l.push(o[c].time);for(c=0;c<o.length;c++)a.addCuePoint(o[c].time,o[c].data).then(function(e){});a.getCuePoints().then(function(e){e.length});var s=0,d=0,u=0,v=0,m=0,h=0,f=0,p=[],g="div#video-info > .left > div.KeyShots > ul",b="div#video-info > .left > div.KeyShots > div.ShotName > span";for($(document).on("click","div#MPC div#NextShot",function(e){e.preventDefault();var t=$(this);t.addClass("disabled"),a.getCurrentTime().then(function(e){for(c=0;c<l.length;c++)p[c]=Math.abs(l[c]-e);d=tvLab.indexOfMin(p),s=l[d],1e3*e>=1e3*s?(v=d+1,v>=o.length?(u=o[0],f=0):(u=o[v],f=v)):(u=o[d],f=d),$(g+" > li").removeClass("load"),$(g+" > li").eq(f).addClass("load"),a.setCurrentTime(u.time).then(function(e){t.removeClass("disabled"),$(g+" > li").removeClass("load"),C(u)})})}),$(document).on("click","div#MPC div#PrevShot",function(e){e.preventDefault();var t=$(this);t.addClass("disabled"),a.getCurrentTime().then(function(e){for(c=0;c<l.length;c++)p[c]=Math.abs(l[c]-e);d=tvLab.indexOfMin(p),s=l[d],1e3*e<=1e3*s+1e3?(h=d-1,h<0?(h=o.length-1,m=o[h],f=h):(m=o[h],f=h)):(m=o[d],f=d),$(g+" > li").removeClass("load"),$(g+" > li").eq(f).addClass("load"),a.setCurrentTime(m.time).then(function(e){t.removeClass("disabled"),$(g+" > li").removeClass("load"),C(m)})})}),$(b).html('<span style="color:#878787;">'+o.length+" shot points...</span>"),c=0;c<o.length;c++)$(g).append('<li data-time="'+o[c].time+'">'+o[c].data.ShotTag+"</li>");var C=function(e){$(g+" > li.here").removeClass("here"),$(g+" > li[data-time="+e.time+"]").removeClass("load").addClass("here")};$(document).on("click",g+" > li",function(e){e.preventDefault();var t=o[$(this).index()];$(g+" > li").removeClass("load"),$(this).addClass("load"),a.setCurrentTime(t.time).then(function(e){C(t)})});var L=function(e){var t=parseInt(e%1e3/10),a=parseInt(e/1e3%60),n=parseInt(e/6e4%60);return n=n<10?"0"+n:n,a=a<10?"0"+a:a,t=t<10?"0"+t:t,'<span class="prevFrame"></span> '+n+":"+a+"<span>:"+t+' </span><span class="nextFrame"></span>'};a.on("timeupdate",function(e){var t=e.seconds;t<.2&&(t=.1);var a=L(100*Math.ceil(10*t));for($("div.TimeCode").html(a),c=0;c<o.length;c++)o[c].time>=e.seconds-0&&o[c].time<=e.seconds+.8&&($(g+" > li[data-time="+o[c].time+"]").hasClass("here")||($(g+" > li").removeClass("here"),$(g+" > li[data-time="+o[c].time+"]").addClass("here"),$(b).hide().fadeIn(200).html('<span style="color:#899ebb;">'+o[c].timecode+'</span><div class="keyShot"></div>'+o[c].data.ShotName)))})});var i="div#video-info span.nextFrame";$(document).on("click",i,function(e){a.getCurrentTime().then(function(e){if(0===e||e<.11)a.pause(),a.setCurrentTime(.11);else{var t=0;a.getDuration().then(function(e){t=e}),a.getPaused().then(function(n){if(!0===n){var o=(parseFloat(e.toFixed(1))+.1).toFixed(1);e<t-.7&&($(i).addClass("loading"),a.setCurrentTime(o))}else a.pause()})}})});var r="div#video-info span.prevFrame";$(document).on("click",r,function(e){a.getCurrentTime().then(function(e){if(0===e||e<=.11)return!0;a.getPaused().then(function(t){if(!0===t)if(e>.2){$(r).addClass("loading");var n=(parseFloat(e.toFixed(1))-.1).toFixed(1);a.setCurrentTime(n)}else a.setCurrentTime(.11);else a.pause()})})})})}})}},function(e,t,a){"use strict";e.exports=function(){$(document).ready(function(){tvLab.nowVid&&tvLab.loadVideoOnPage(tvLab.nowVid),tvLab.checkAlert=function(e){alert(e)},tvLab.indexOfMin=function(e){if(0===e.length)return-1;for(var t=e[0],a=0,n=1;n<e.length;n++)e[n]<t&&(a=n,t=e[n]);return a},tvLab.isEmpty=function(e){return!e||0===e.length},tvLab.dropTypeOnClick=function(){$("input#set").val("c0d0s0a0t0v0"),$("#top-panel__search").submit()},tvLab.resetSet=function(e){$("ul.top-panel__search-field").tagit("removeAll"),$("ul.top-panel__search-field").tagit("createTag",e),$("#set").val("c0d0s0a0t0v0"),$("#top-panel__search").submit()},tvLab.urlVideo=function(e){var t=tvLab.nowUrl,a=/(video=)(\d*)/;if(void 0!==e){t.match(a)||(t=t+"&video="+e);var n=t.replace(a,"$1"+e);return window.history.pushState("","","?"+n),tvLab.nowUrl=n,n}var o="";if(o=t.match(a))return tvLab.isEmpty(o[2])?void 0:o[2]},tvLab.loadVideoOnClick=function(e,t){tvLab.urlVideo(e),$("input#InputVideo").val(e),$("div.item.here").removeClass("here"),$(t).parent().parent().addClass("here"),tvLab.loadVideoOnPage(e)};var e=tvLab.nowTags.split(" ");$.each(e,function(e,t){$("a.tag-item[data-tag="+t+"]").addClass("here")}),$("div#main-output > h1.state-info > span.Tags > span.tag span.x-close").on("click",function(e){var t=$(this).parent().text();t=t.replace("⨯",""),t=t.replace("# ",""),$("ul.top-panel__search-field").tagit("removeTagByLabel",t),$(this).parent().fadeOut(200,function(){t.remove()}),setTimeout(function(){$("#top-panel__search").submit()},100)}),$(document).on("click","a.tag",function(e){e.preventDefault();var t=$(e.target).data("tag");$("ul.top-panel__search-field").tagit("removeAll"),$("ul.top-panel__search-field").tagit("createTag",t),$("#top-panel__search").submit()}),$(document).on("click","a.tag-item",function(e){e.preventDefault();var t=$(e.target).data("tag");$("ul.top-panel__search-field").tagit("removeAll"),$("ul.top-panel__search-field").tagit("createTag",t),$("#top-panel__search").submit()}),$.each(tvLab.nowTags.split(" "),function(e,t){$("a.tag-item[data-tag="+t+"]").addClass("here")}),$("aside#left-panel div.accordion").accordion({collapsible:!0,active:tvLab.menuState,heightStyle:"content",create:function(e,t){$("aside#left-panel div.accordion").css("display","block")},activate:function(e,t){var a=$("aside#left-panel div.accordion").accordion("option","active");document.cookie="TagMenuState="+a}}),$("#container").waterfall({itemCls:"item",fitWidth:!1,colWidth:319,gutterWidth:19,gutterHeight:15,align:"center",minCol:1,maxCol:3,debug:!1,checkImagesLoaded:!1,callbacks:{loadingFinished:function(e,t){t?e.remove():e.fadeOut(),void 0===tvLab.urlVideo()&&0===$(".waterfall-container .item.here").length&&$(".waterfall-container .item:first-child").addClass("here"),$(document).on("click",".waterfall-container a.wf-load-video",function(e){e.preventDefault(),tvLab.loadVideoOnClick($(this).data("id"),$(this))})},renderData:function(e,t){if(e.pages===e.page&&$("#container").waterfall("pause",function(){$("#waterfall-message").html("\x3c!--No more result from database--\x3e")}),tvLab.nowVid||1===e.page&&tvLab.loadVideoOnPage(e.FirstVideo),"json"===t||"jsonp"===t){var a=$("#waterfall-tpl").html();return Handlebars.compile(a)(e)}return e}},path:function(e){return"desktop/json/waterfall_page.php?"+tvLab.nowUrl+"&page="+e}})})}},function(e,t,a){"use strict";e.exports=function(){$(document).ready(function(){var e;$("input:radio").screwDefaultButtons({image:'url("img/radioSmall.jpg")',width:40,height:40}),$("input:checkbox").screwDefaultButtons({image:'url("img/checkboxSmall.jpg")',width:40,height:40}),$(".top-panel__search-filters_fixwrap").css("display","block"),e=tvLab.nowSet.match(/[\d\w]{12}/)?tvLab.nowSet:"c0d0s0a0t0v0",tvLab.mqSetSubmit=function(){$("#set").val(e),$("#top-panel__search").submit()},!0===$("#comp")[0].checked&&(e=e.replace(/c0/,"c1")),!0===$("#3d")[0].checked&&(e=e.replace(/d0/,"d1")),!0===$("#sim")[0].checked&&(e=e.replace(/s0/,"s1")),!0===$("#anim")[0].checked&&(e=e.replace(/a0/,"a1")),!0===$("#stpm")[0].checked&&(e=e.replace(/t0/,"t1")),!0===$("#vid")[0].checked&&(e=e.replace(/v0/,"v1")),$(".styledCheckbox:has(#md)").on("click",function(){tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#comp)").on("click",function(){$("#comp").is(":checked")?e.match(/c1/)||(e=e.replace(/c0/,"c1")):e.match(/c0/)||(e=e.replace(/c1/,"c0")),tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#3d)").on("click",function(){$("#3d").is(":checked")?e.match(/d1/)||(e=e.replace(/d0/,"d1")):e.match(/d0/)||(e=e.replace(/d1/,"d0")),tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#sim)").on("click",function(){$("#sim").is(":checked")?e.match(/s1/)||(e=e.replace(/s0/,"s1")):e.match(/s0/)||(e=e.replace(/s1/,"s0")),tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#anim)").on("click",function(){$("#anim").is(":checked")?e.match(/a1/)||(e=e.replace(/a0/,"a1")):e.match(/a0/)||(e=e.replace(/a1/,"a0")),tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#stpm)").on("click",function(){$("#stpm").is(":checked")?e.match(/t1/)||(e=e.replace(/t0/,"t1")):e.match(/t0/)||(e=e.replace(/t1/,"t0")),tvLab.mqSetSubmit()}),$(".styledCheckbox:has(#vid)").on("click",function(){$("#vid").is(":checked")?e.match(/v1/)||(e=e.replace(/v0/,"v1")):e.match(/v0/)||(e=e.replace(/v1/,"v0")),tvLab.mqSetSubmit()}),tvLab.sampleTags=["realism","abstract","minimalism","futurism","surrealism","contemporary","cinematic","Cartoon","Art","Beauty","Adventures","Story","Fantasy","Spiritual","Culture","Sport","Games","Enertament","Mans","Womens","Comedy","Show","Cinema","Fun","Weird","News","Info","Promo","Test","Science","Education","History","Political","Social","Nature","Health","Industry","Buisness","Finance","Services","Vehicles","Technology","Digital","CG","Crafts","War","Criminal"],$("ul.top-panel__search-field").tagit({showAutocompleteOnFocus:!1,autocomplete:{delay:0,minLength:0},tagLimit:3,availableTags:tvLab.sampleTags,singleField:!0,singleFieldNode:$("input.top-panel__search-field"),afterTagRemoved:function(e,t){}}),$("#myULTags").tagit({availableTags:tvLab.sampleTags,itemName:"item",fieldName:"tags"}),tvLab.eventTags=$("#eventTags"),tvLab.addEvent=function(e){$("#events_container").append(e+"<br>")},tvLab.eventTags.tagit({availableTags:tvLab.sampleTags,beforeTagAdded:function(e,t){t.duringInitialization||tvLab.addEvent("beforeTagAdded: "+tvLab.eventTags.tagit("tagLabel",t.tag))},afterTagAdded:function(e,t){t.duringInitialization||tvLab.addEvent("afterTagAdded: "+tvLab.eventTags.tagit("tagLabel",t.tag))},beforeTagRemoved:function(e,t){tvLab.addEvent("beforeTagRemoved: "+tvLab.eventTags.tagit("tagLabel",t.tag))},afterTagRemoved:function(e,t){tvLab.addEvent("afterTagRemoved: "+tvLab.eventTags.tagit("tagLabel",t.tag))},onTagClicked:function(e,t){tvLab.addEvent("onTagClicked: "+tvLab.eventTags.tagit("tagLabel",t.tag))},onTagExists:function(e,t){tvLab.addEvent("onTagExists: "+tvLab.eventTags.tagit("tagLabel",t.existingTag))}}),$("#readOnlyTags").tagit({readOnly:!1}),$("#methodTags").tagit({availableTags:tvLab.sampleTags}),$("#allowSpacesTags").tagit({availableTags:tvLab.sampleTags,allowSpaces:!0}),$("#removeConfirmationTags").tagit({availableTags:tvLab.sampleTags,removeConfirmation:!0})})}},function(e,t,a){"use strict";e.exports=function(){$(document).ready(function(){tvLab.setAutoPlayUI=function(e){var t=$("div#MPC div.AutoPlay");"Next"===e?(t.removeClass("Cycle"),t.addClass("Next")):"Cycle"===e&&(t.removeClass("Next"),t.addClass("Cycle"))},tvLab.videoGoAndPlay=function(e){var t=$("#container.waterfall-container div.item.here"),a=$("#container.waterfall-container").children().first(),n=t.next(),o=t.prev(),i=n.data("id"),r=o.data("id");"Next"===e&&(void 0!==i?(t.removeClass("here"),n.addClass("here"),tvLab.loadVideoOnPage(i)):(t.removeClass("here"),a.addClass("here"),tvLab.loadVideoOnPage(a.data("id")))),"Prev"===e&&(void 0!==r?(t.removeClass("here"),o.addClass("here"),tvLab.loadVideoOnPage(r)):(t.removeClass("here"),a.addClass("here"),tvLab.loadVideoOnPage(a.data("id"))))},$(document).on("click","div#MPC div#NextVideo",function(e){e.preventDefault(),tvLab.videoGoAndPlay("Next")}),$(document).on("click","div#MPC div#PrevVideo",function(e){e.preventDefault(),tvLab.videoGoAndPlay("Prev")})})}}]);
//# sourceMappingURL=build.008d5bf16f353a2380d6.js.map